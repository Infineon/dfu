<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Device Firmware Update (DFU) Middleware Library 5.0</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="https://www.infineon.com/"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Device Firmware Update (DFU) Middleware Library 5.0</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__group__dfu__functions__app.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Application Management<div class="ingroups"><a class="el" href="group__group__dfu__functions.html">Functions</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<p>DFU Functions for application management. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga462d2b960d0a1420bd365cbb12173266"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions__app.html#ga462d2b960d0a1420bd365cbb12173266">Cy_DFU_ExecuteApp</a> (uint32_t appId)</td></tr>
<tr class="memdesc:ga462d2b960d0a1420bd365cbb12173266"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function transfers control from the current application to another application.  <a href="#ga462d2b960d0a1420bd365cbb12173266">More...</a><br /></td></tr>
<tr class="separator:ga462d2b960d0a1420bd365cbb12173266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e0defdaf9adb2e5663dc6144dc6823a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions__app.html#ga6e0defdaf9adb2e5663dc6144dc6823a">Cy_DFU_OnResetApp0</a> (void)</td></tr>
<tr class="memdesc:ga6e0defdaf9adb2e5663dc6144dc6823a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used in an App0 firmware image in Reset_Handler() only.  <a href="#ga6e0defdaf9adb2e5663dc6144dc6823a">More...</a><br /></td></tr>
<tr class="separator:ga6e0defdaf9adb2e5663dc6144dc6823a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e8ba375e3199d481b534deaca54f514"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions__app.html#ga6e8ba375e3199d481b534deaca54f514">Cy_DFU_GetRunningApp</a> (void)</td></tr>
<tr class="memdesc:ga6e8ba375e3199d481b534deaca54f514"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reports the application number of the currently running application.  <a href="#ga6e8ba375e3199d481b534deaca54f514">More...</a><br /></td></tr>
<tr class="separator:ga6e8ba375e3199d481b534deaca54f514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1fc0e9cb067e892674f0f7a2ba01317"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions__app.html#gaa1fc0e9cb067e892674f0f7a2ba01317">Cy_DFU_SwitchToApp</a> (uint32_t appId)</td></tr>
<tr class="memdesc:gaa1fc0e9cb067e892674f0f7a2ba01317"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function switches to the application through the jump instruction.  <a href="#gaa1fc0e9cb067e892674f0f7a2ba01317">More...</a><br /></td></tr>
<tr class="separator:gaa1fc0e9cb067e892674f0f7a2ba01317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e2ab4649104775358b885daada90b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions__app.html#ga4e2ab4649104775358b885daada90b11">Cy_DFU_CopyApp</a> (uint32_t destAddress, uint32_t srcAddress, uint32_t length, uint32_t rowSize, <a class="el" href="group__group__dfu__data__structs.html#structcy__stc__dfu__params__t">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga4e2ab4649104775358b885daada90b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function copies an application from a temporary location in flash to its destination location in flash.  <a href="#ga4e2ab4649104775358b885daada90b11">More...</a><br /></td></tr>
<tr class="separator:ga4e2ab4649104775358b885daada90b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4eed95b94cdb006c79e2036f01d7fc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions__app.html#gae4eed95b94cdb006c79e2036f01d7fc4">Cy_DFU_ValidateApp</a> (uint32_t appId, <a class="el" href="group__group__dfu__data__structs.html#structcy__stc__dfu__params__t">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:gae4eed95b94cdb006c79e2036f01d7fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reports whether or not metadata and the specified application is valid.  <a href="#gae4eed95b94cdb006c79e2036f01d7fc4">More...</a><br /></td></tr>
<tr class="separator:gae4eed95b94cdb006c79e2036f01d7fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga462d2b960d0a1420bd365cbb12173266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga462d2b960d0a1420bd365cbb12173266">&#9670;&nbsp;</a></span>Cy_DFU_ExecuteApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_ExecuteApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function transfers control from the current application to another application. </p>
<p>The function performs switching via software reset. In case if application need to switch without reset, for example if it needs to enable some peripheral during and after the application switching, use <a class="el" href="group__group__dfu__functions__app.html#gaa1fc0e9cb067e892674f0f7a2ba01317">Cy_DFU_SwitchToApp()</a>. The function does not return. </p><dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>An application number of the application to switch to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga6e0defdaf9adb2e5663dc6144dc6823a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e0defdaf9adb2e5663dc6144dc6823a">&#9670;&nbsp;</a></span>Cy_DFU_OnResetApp0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_OnResetApp0 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used in an App0 firmware image in Reset_Handler() only. </p>
<p>Checks if switching to the other application is scheduled with <a class="el" href="group__group__dfu__functions__app.html#ga462d2b960d0a1420bd365cbb12173266">Cy_DFU_ExecuteApp()</a>. <br />
If the switch is scheduled, then it validates the application and transfers control to it. </p>

</div>
</div>
<a id="ga6e8ba375e3199d481b534deaca54f514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e8ba375e3199d481b534deaca54f514">&#9670;&nbsp;</a></span>Cy_DFU_GetRunningApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Cy_DFU_GetRunningApp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reports the application number of the currently running application. </p>
<dl class="section return"><dt>Returns</dt><dd>application number </dd></dl>

</div>
</div>
<a id="gaa1fc0e9cb067e892674f0f7a2ba01317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1fc0e9cb067e892674f0f7a2ba01317">&#9670;&nbsp;</a></span>Cy_DFU_SwitchToApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_SwitchToApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function switches to the application through the jump instruction. </p>
<p>The function should be used when an application switching must be done without a software reset. Possible reason is a need to enable some peripheral during and after the application switching. In other case use <a class="el" href="group__group__dfu__functions__app.html#ga462d2b960d0a1420bd365cbb12173266">Cy_DFU_ExecuteApp()</a>.</p>
<p>Before calling this function, ensure all the peripherals and bus masters are in a known state. User is responsible to disable peripherals and to set MCU internal state before or after an application switching.</p>
<dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>An application number of the application to switch to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It doesn't return if succeeds. If failed, returns the status code. See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </dd></dl>

</div>
</div>
<a id="ga4e2ab4649104775358b885daada90b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e2ab4649104775358b885daada90b11">&#9670;&nbsp;</a></span>Cy_DFU_CopyApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_CopyApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srcAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rowSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__dfu__data__structs.html#structcy__stc__dfu__params__t">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function copies an application from a temporary location in flash to its destination location in flash. </p>
<p>This function is typically called when updating an application used as part of an update process, for example updating a BLE stack. </p><dl class="section note"><dt>Note</dt><dd>This API is only for demonstration purpose, use it only when copying from internal flash to internal flash. For other user cases, implement a custom, more general function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destAddress</td><td>The start address of the application to copy to. </td></tr>
    <tr><td class="paramname">srcAddress</td><td>The start address of the copy of the application to be copied. </td></tr>
    <tr><td class="paramname">length</td><td>The number of bytes to copy. </td></tr>
    <tr><td class="paramname">rowSize</td><td>The size of a flash row in bytes. </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="group__group__dfu__data__structs.html#structcy__stc__dfu__params__t">cy_stc_dfu_params_t</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </dd></dl>

</div>
</div>
<a id="gae4eed95b94cdb006c79e2036f01d7fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4eed95b94cdb006c79e2036f01d7fc4">&#9670;&nbsp;</a></span>Cy_DFU_ValidateApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_ValidateApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__group__dfu__data__structs.html#structcy__stc__dfu__params__t">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reports whether or not metadata and the specified application is valid. </p>
<p>It checks:</p><ul>
<li>checksum for applications without format;</li>
<li>application signature for Cypress Standard User Application format.</li>
</ul>
<p>This is a weak function and the user may override it in the user's code by providing a function with the same name.</p>
<dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>The application number of the application to be validated. </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="group__group__dfu__data__structs.html#structcy__stc__dfu__params__t">cy_stc_dfu_params_t</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>.<ul>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba225cb8ce9902215fa03c9b0c77ac6e23">CY_DFU_SUCCESS</a> If the application is valid.</li>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba5ec17ddd14f6e0a3ac1ad893d3cef065">CY_DFU_ERROR_VERIFY</a> If the application is invalid. </li>
</ul>
</dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Device Firmware Update (DFU) Middleware Library 5.0</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
