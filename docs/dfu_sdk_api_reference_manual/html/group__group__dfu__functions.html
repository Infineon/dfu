<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Cypress Device Firmware Update (DFU) Middleware Library 4.10: Functions</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen_style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="http://www.cypress.com/"><img alt="Logo" src="IFXCYP_one-line.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Cypress Device Firmware Update (DFU) Middleware Library 4.10</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__group__dfu__functions.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Functions</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">General Description</h2>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga52a82b43fb374e27f969051f7f70db31"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga52a82b43fb374e27f969051f7f70db31">Cy_DFU_Complete</a> (uint32_t *state, uint32_t timeout)</td></tr>
<tr class="memdesc:ga52a82b43fb374e27f969051f7f70db31"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function starts the application download and install operations.  <a href="#ga52a82b43fb374e27f969051f7f70db31">More...</a><br /></td></tr>
<tr class="separator:ga52a82b43fb374e27f969051f7f70db31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga803512d54a676efd3ecfd12f531c2e30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga803512d54a676efd3ecfd12f531c2e30">Cy_DFU_Init</a> (uint32_t *state, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga803512d54a676efd3ecfd12f531c2e30"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function starts the application download and install operations.  <a href="#ga803512d54a676efd3ecfd12f531c2e30">More...</a><br /></td></tr>
<tr class="separator:ga803512d54a676efd3ecfd12f531c2e30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6514a9d999be746edc406fcf764d07f5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga6514a9d999be746edc406fcf764d07f5">Cy_DFU_Continue</a> (uint32_t *state, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga6514a9d999be746edc406fcf764d07f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function processes Host Commands according to Host Command/Response Protocol.  <a href="#ga6514a9d999be746edc406fcf764d07f5">More...</a><br /></td></tr>
<tr class="separator:ga6514a9d999be746edc406fcf764d07f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga462d2b960d0a1420bd365cbb12173266"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga462d2b960d0a1420bd365cbb12173266">Cy_DFU_ExecuteApp</a> (uint32_t appId)</td></tr>
<tr class="memdesc:ga462d2b960d0a1420bd365cbb12173266"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function transfers control from the current application to another application.  <a href="#ga462d2b960d0a1420bd365cbb12173266">More...</a><br /></td></tr>
<tr class="separator:ga462d2b960d0a1420bd365cbb12173266"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa1fc0e9cb067e892674f0f7a2ba01317"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#gaa1fc0e9cb067e892674f0f7a2ba01317">Cy_DFU_SwitchToApp</a> (uint32_t appId)</td></tr>
<tr class="memdesc:gaa1fc0e9cb067e892674f0f7a2ba01317"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function switches to the application through the jump instruction.  <a href="#gaa1fc0e9cb067e892674f0f7a2ba01317">More...</a><br /></td></tr>
<tr class="separator:gaa1fc0e9cb067e892674f0f7a2ba01317"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e8abd7c08bb69765fc628249c4268fb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga0e8abd7c08bb69765fc628249c4268fb">Cy_DFU_DataChecksum</a> (const uint8_t *address, uint32_t length, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga0e8abd7c08bb69765fc628249c4268fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function computes a CRC-32C for the provided number of bytes contained in the provided buffer.  <a href="#ga0e8abd7c08bb69765fc628249c4268fb">More...</a><br /></td></tr>
<tr class="separator:ga0e8abd7c08bb69765fc628249c4268fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac6ad56bd9a22e13e2e5de12febcb0f70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#gac6ad56bd9a22e13e2e5de12febcb0f70">Cy_DFU_ValidateMetadata</a> (uint32_t metadataAddress, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:gac6ad56bd9a22e13e2e5de12febcb0f70"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function checks if the DFU metadata is valid.  <a href="#gac6ad56bd9a22e13e2e5de12febcb0f70">More...</a><br /></td></tr>
<tr class="separator:gac6ad56bd9a22e13e2e5de12febcb0f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae4eed95b94cdb006c79e2036f01d7fc4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#gae4eed95b94cdb006c79e2036f01d7fc4">Cy_DFU_ValidateApp</a> (uint32_t appId, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:gae4eed95b94cdb006c79e2036f01d7fc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reports whether or not metadata and the specified application is valid.  <a href="#gae4eed95b94cdb006c79e2036f01d7fc4">More...</a><br /></td></tr>
<tr class="separator:gae4eed95b94cdb006c79e2036f01d7fc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e8ba375e3199d481b534deaca54f514"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga6e8ba375e3199d481b534deaca54f514">Cy_DFU_GetRunningApp</a> (void)</td></tr>
<tr class="memdesc:ga6e8ba375e3199d481b534deaca54f514"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reports the application number of the currently running application.  <a href="#ga6e8ba375e3199d481b534deaca54f514">More...</a><br /></td></tr>
<tr class="separator:ga6e8ba375e3199d481b534deaca54f514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17d8b5157dc842d05115cf41fef4221d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga17d8b5157dc842d05115cf41fef4221d">Cy_DFU_GetAppMetadata</a> (uint32_t appId, uint32_t *verifyAddress, uint32_t *verifySize)</td></tr>
<tr class="memdesc:ga17d8b5157dc842d05115cf41fef4221d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads application metadata to <code>verifyAddress</code> and <code>verifySize</code>.  <a href="#ga17d8b5157dc842d05115cf41fef4221d">More...</a><br /></td></tr>
<tr class="separator:ga17d8b5157dc842d05115cf41fef4221d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabcdc75d72e323577e207eca9a105f7dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#gabcdc75d72e323577e207eca9a105f7dd">Cy_DFU_SetAppMetadata</a> (uint32_t appId, uint32_t verifyAddress, uint32_t verifySize, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:gabcdc75d72e323577e207eca9a105f7dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is a helper function for <a class="el" href="group__group__dfu__functions.html#ga6514a9d999be746edc406fcf764d07f5" title="The function processes Host Commands according to Host Command/Response Protocol. ...">Cy_DFU_Continue()</a>.  <a href="#gabcdc75d72e323577e207eca9a105f7dd">More...</a><br /></td></tr>
<tr class="separator:gabcdc75d72e323577e207eca9a105f7dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e2ab4649104775358b885daada90b11"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga4e2ab4649104775358b885daada90b11">Cy_DFU_CopyApp</a> (uint32_t destAddress, uint32_t srcAddress, uint32_t length, uint32_t rowSize, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga4e2ab4649104775358b885daada90b11"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function copies an application from a temporary location in flash to its destination location in flash.  <a href="#ga4e2ab4649104775358b885daada90b11">More...</a><br /></td></tr>
<tr class="separator:ga4e2ab4649104775358b885daada90b11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e0defdaf9adb2e5663dc6144dc6823a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga6e0defdaf9adb2e5663dc6144dc6823a">Cy_DFU_OnResetApp0</a> (void)</td></tr>
<tr class="memdesc:ga6e0defdaf9adb2e5663dc6144dc6823a"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function is used in an App0 firmware image in Reset_Handler() only.  <a href="#ga6e0defdaf9adb2e5663dc6144dc6823a">More...</a><br /></td></tr>
<tr class="separator:ga6e0defdaf9adb2e5663dc6144dc6823a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9709777e59f6cbdc9ca70c1ca041e414"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga9709777e59f6cbdc9ca70c1ca041e414">Cy_DFU_ReadData</a> (uint32_t address, uint32_t length, uint32_t ctl, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga9709777e59f6cbdc9ca70c1ca041e414"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#ga9709777e59f6cbdc9ca70c1ca041e414">More...</a><br /></td></tr>
<tr class="separator:ga9709777e59f6cbdc9ca70c1ca041e414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f589c0df780bd29477ab4d73cf4063b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga9f589c0df780bd29477ab4d73cf4063b">Cy_DFU_WriteData</a> (uint32_t address, uint32_t length, uint32_t ctl, <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *params)</td></tr>
<tr class="memdesc:ga9f589c0df780bd29477ab4d73cf4063b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#ga9f589c0df780bd29477ab4d73cf4063b">More...</a><br /></td></tr>
<tr class="separator:ga9f589c0df780bd29477ab4d73cf4063b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90b9eb04aca4959c02e313aca13414ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga90b9eb04aca4959c02e313aca13414ca">Cy_DFU_TransportRead</a> (uint8_t buffer[], uint32_t size, uint32_t *count, uint32_t timeout)</td></tr>
<tr class="memdesc:ga90b9eb04aca4959c02e313aca13414ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#ga90b9eb04aca4959c02e313aca13414ca">More...</a><br /></td></tr>
<tr class="separator:ga90b9eb04aca4959c02e313aca13414ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga47b4a59a539863b1581d4ddcce701b9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga47b4a59a539863b1581d4ddcce701b9e">Cy_DFU_TransportWrite</a> (uint8_t buffer[], uint32_t size, uint32_t *count, uint32_t timeout)</td></tr>
<tr class="memdesc:ga47b4a59a539863b1581d4ddcce701b9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#ga47b4a59a539863b1581d4ddcce701b9e">More...</a><br /></td></tr>
<tr class="separator:ga47b4a59a539863b1581d4ddcce701b9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf440cbe4ded2f8090c51fe7c23a00e8c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#gaf440cbe4ded2f8090c51fe7c23a00e8c">Cy_DFU_TransportReset</a> (void)</td></tr>
<tr class="memdesc:gaf440cbe4ded2f8090c51fe7c23a00e8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#gaf440cbe4ded2f8090c51fe7c23a00e8c">More...</a><br /></td></tr>
<tr class="separator:gaf440cbe4ded2f8090c51fe7c23a00e8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e7830c2493ba3b3798412ddbd826ff8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#ga0e7830c2493ba3b3798412ddbd826ff8">Cy_DFU_TransportStart</a> (void)</td></tr>
<tr class="memdesc:ga0e7830c2493ba3b3798412ddbd826ff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#ga0e7830c2493ba3b3798412ddbd826ff8">More...</a><br /></td></tr>
<tr class="separator:ga0e7830c2493ba3b3798412ddbd826ff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa979bcdabc0bb7dc392be24a25986ca9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__dfu__functions.html#gaa979bcdabc0bb7dc392be24a25986ca9">Cy_DFU_TransportStop</a> (void)</td></tr>
<tr class="memdesc:gaa979bcdabc0bb7dc392be24a25986ca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function must be implemented in the user's code.  <a href="#gaa979bcdabc0bb7dc392be24a25986ca9">More...</a><br /></td></tr>
<tr class="separator:gaa979bcdabc0bb7dc392be24a25986ca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga52a82b43fb374e27f969051f7f70db31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga52a82b43fb374e27f969051f7f70db31">&#9670;&nbsp;</a></span>Cy_DFU_Complete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_Complete </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function starts the application download and install operations. </p>
<p>It calls <a class="el" href="group__group__dfu__functions.html#ga803512d54a676efd3ecfd12f531c2e30" title="This function starts the application download and install operations. ">Cy_DFU_Init()</a> and then continually calls <a class="el" href="group__group__dfu__functions.html#ga6514a9d999be746edc406fcf764d07f5" title="The function processes Host Commands according to Host Command/Response Protocol. ...">Cy_DFU_Continue()</a>. It does not return until the DFU operation is complete or an error is detected. This function provides an example of how to use the DFU SDK to quickly design a DFU system. </p><dl class="section note"><dt>Note</dt><dd>This function blocks, suspending all other tasks until the DFU operation is complete. To execute other tasks while updating, design your code to call <a class="el" href="group__group__dfu__functions.html#ga803512d54a676efd3ecfd12f531c2e30" title="This function starts the application download and install operations. ">Cy_DFU_Init()</a> and <a class="el" href="group__group__dfu__functions.html#ga6514a9d999be746edc406fcf764d07f5" title="The function processes Host Commands according to Host Command/Response Protocol. ...">Cy_DFU_Continue()</a> directly. Only one updating operation can be done at a time - the user's code must ensure this. </dd>
<dd>
The function set timeout field in <a class="el" href="structcy__stc__dfu__params__t.html#a65c877d47227fa78b629359fab0b417e">cy_stc_dfu_params_t::timeout</a> to 20 ms - enough for UART (at 115200 bps), I2C, SPI, USB-HID, and BLE OTA in most cases. </dd>
<dd>
The function enables global interrupts.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The pointer to a state variable, that is updated by the function. See <a class="el" href="group__group__dfu__macro__state.html">DFU State</a>. </td></tr>
    <tr><td class="paramname">timeout</td><td>The max amount of time (in milliseconds) for which the function is waiting for receiving of the Enter DFU command.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </dd></dl>

</div>
</div>
<a id="ga803512d54a676efd3ecfd12f531c2e30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga803512d54a676efd3ecfd12f531c2e30">&#9670;&nbsp;</a></span>Cy_DFU_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_Init </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function starts the application download and install operations. </p>
<p>Make subsequent calls to <a class="el" href="group__group__dfu__functions.html#ga6514a9d999be746edc406fcf764d07f5" title="The function processes Host Commands according to Host Command/Response Protocol. ...">Cy_DFU_Continue()</a> to continue the process. <br />
Returns immediately, reporting success or failure. <br />
Only one updating operation can be done at a time - the user's code must ensure this.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The pointer to a state variable, that is updated by the function. See <a class="el" href="group__group__dfu__macro__state.html">DFU State</a> </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>.<ul>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba225cb8ce9902215fa03c9b0c77ac6e23">CY_DFU_SUCCESS</a> if successful.</li>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1bae652f76c7eb8948ed28f2c3c73868e1f">CY_DFU_ERROR_UNKNOWN</a> either parameter is a NULL pointer.</li>
</ul>
</dd></dl>
<div class="fragment"><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    * Used to count seconds</span></div><div class="line"><span class="comment">    */</span></div><div class="line">    uint32_t count = 0;</div><div class="line"></div><div class="line">    <span class="comment">/* Status codes for DFU API */</span></div><div class="line">    <a class="code" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> status;</div><div class="line"></div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    * DFU state, one of the:</span></div><div class="line"><span class="comment">    * - CY_DFU_STATE_NONE</span></div><div class="line"><span class="comment">    * - CY_DFU_STATE_UPDATING</span></div><div class="line"><span class="comment">    * - CY_DFU_STATE_FINISHED</span></div><div class="line"><span class="comment">    * - CY_DFU_STATE_FAILED</span></div><div class="line"><span class="comment">    */</span></div><div class="line">    uint32_t state;</div><div class="line"></div><div class="line">    <span class="comment">/* Timeout for Cy_DFU_Continue(), in milliseconds */</span></div><div class="line">    <span class="keyword">const</span> uint32_t paramsTimeout = 20u;</div><div class="line">    </div><div class="line">    <span class="comment">/* Buffer to store DFU commands */</span></div><div class="line">    CY_ALIGN(4) static uint8_t buffer[<a class="code" href="group__group__dfu__macro__config.html#ga01f0e598d60b05879166f93ef38cecee">CY_DFU_SIZEOF_DATA_BUFFER</a>];</div><div class="line"></div><div class="line">    <span class="comment">/* Buffer for DFU data packets for transport API */</span></div><div class="line">    CY_ALIGN(4) static uint8_t packet[<a class="code" href="group__group__dfu__macro__config.html#ga21b70d16eb321a6d2010b92c8584b782">CY_DFU_SIZEOF_CMD_BUFFER</a> ];</div><div class="line"></div><div class="line">    <span class="comment">/* DFU params, used to configure DFU */</span></div><div class="line">    <a class="code" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> dfuParams;</div><div class="line"></div><div class="line">    <span class="comment">/* Initialize dfuParams structure */</span></div><div class="line">    dfuParams.timeout          = paramsTimeout;</div><div class="line">    dfuParams.dataBuffer       = &amp;buffer[0];</div><div class="line">    dfuParams.packetBuffer     = &amp;packet[0];</div><div class="line"></div><div class="line">    status = <a class="code" href="group__group__dfu__functions.html#ga803512d54a676efd3ecfd12f531c2e30">Cy_DFU_Init</a>(&amp;state, &amp;dfuParams);</div><div class="line">    </div><div class="line">    <span class="comment">/* Stop program execution if DFU init failed */</span></div><div class="line">    CY_ASSERT(<a class="code" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba225cb8ce9902215fa03c9b0c77ac6e23">CY_DFU_SUCCESS</a> == status);</div><div class="line">    </div><div class="line">    <span class="comment">/* Set up the device based on configurator selections */</span></div><div class="line">    init_cycfg_all();</div><div class="line"></div><div class="line">    <span class="comment">/* enable interrupts */</span></div><div class="line">    __enable_irq();</div></div><!-- fragment -->
</div>
</div>
<a id="ga6514a9d999be746edc406fcf764d07f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6514a9d999be746edc406fcf764d07f5">&#9670;&nbsp;</a></span>Cy_DFU_Continue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_Continue </td>
          <td>(</td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>state</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function processes Host Commands according to Host Command/Response Protocol. </p>
<p>The function waits for the Host data packet till timeout occurs. If valid packet is received, it decodes received command, processes it and transfer back a response if needed. See description of Host Command/Response Protocol in <a href="http://www.cypress.com/an213924">AN213924</a> DFU SDK User Guide.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>The pointer to a state variable, that is updated by the function. See <a class="el" href="group__group__dfu__macro__state.html">DFU State</a>. </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> </dd></dl>

</div>
</div>
<a id="ga462d2b960d0a1420bd365cbb12173266"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga462d2b960d0a1420bd365cbb12173266">&#9670;&nbsp;</a></span>Cy_DFU_ExecuteApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_ExecuteApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function transfers control from the current application to another application. </p>
<p>The function performs switching via software reset. In case if application need to switch without reset, for example if it needs to enable some peripheral during and after the application switching, use <a class="el" href="group__group__dfu__functions.html#gaa1fc0e9cb067e892674f0f7a2ba01317">Cy_DFU_SwitchToApp()</a>. The function does not return. </p><dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>An application number of the application to switch to. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaa1fc0e9cb067e892674f0f7a2ba01317"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa1fc0e9cb067e892674f0f7a2ba01317">&#9670;&nbsp;</a></span>Cy_DFU_SwitchToApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_SwitchToApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function switches to the application through the jump instruction. </p>
<p>The function should be used when an application switching must be done without a software reset. Possible reason is a need to enable some peripheral during and after the application switching. In other case use <a class="el" href="group__group__dfu__functions.html#ga462d2b960d0a1420bd365cbb12173266">Cy_DFU_ExecuteApp()</a>.</p>
<p>Before calling this function, ensure all the peripherals and bus masters are in a known state. User is responsible to disable peripherals and to set MCU internal state before or after an application switching.</p>
<dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>An application number of the application to switch to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>It doesn't return if succeeds. If failed, returns the status code. See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </dd></dl>

</div>
</div>
<a id="ga0e8abd7c08bb69765fc628249c4268fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e8abd7c08bb69765fc628249c4268fb">&#9670;&nbsp;</a></span>Cy_DFU_DataChecksum()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Cy_DFU_DataChecksum </td>
          <td>(</td>
          <td class="paramtype">const uint8_t *&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function computes a CRC-32C for the provided number of bytes contained in the provided buffer. </p>
<p><br />
This function is used to validate the Program Data and Verify Data DFU commands and a metadata row. </p><dl class="section note"><dt>Note</dt><dd>Ensure the Crypto block is properly initialized if <a class="el" href="group__group__dfu__macro__config.html#gaf26d1e1c21482dd7e3e41c2b24c22637">CY_DFU_OPT_CRYPTO_HW</a> is set.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The pointer to a buffer containing the data to compute the checksum for. </td></tr>
    <tr><td class="paramname">length</td><td>The number of bytes in the buffer to compute the checksum for. </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>CRC-32C for the provided data. </dd></dl>

</div>
</div>
<a id="gac6ad56bd9a22e13e2e5de12febcb0f70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac6ad56bd9a22e13e2e5de12febcb0f70">&#9670;&nbsp;</a></span>Cy_DFU_ValidateMetadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_ValidateMetadata </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>metadataAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The function checks if the DFU metadata is valid. </p>
<p>It calculates CRC-32C and compare with stored value at the end of metadata.</p>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a><ul>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba225cb8ce9902215fa03c9b0c77ac6e23">CY_DFU_SUCCESS</a> - metadata is valid.</li>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba5ec17ddd14f6e0a3ac1ad893d3cef065">CY_DFU_ERROR_VERIFY</a> - metadata is not valid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gae4eed95b94cdb006c79e2036f01d7fc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae4eed95b94cdb006c79e2036f01d7fc4">&#9670;&nbsp;</a></span>Cy_DFU_ValidateApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_ValidateApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reports whether or not metadata and the specified application is valid. </p>
<p>It checks:</p><ul>
<li>checksum for applications without format;</li>
<li>application signature for Cypress Standard User Application format.</li>
</ul>
<p>This is a weak function and the user may override it in the user's code by providing a function with the same name.</p>
<dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>The application number of the application to be validated. </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>.<ul>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba225cb8ce9902215fa03c9b0c77ac6e23">CY_DFU_SUCCESS</a> If the application is valid.</li>
<li><a class="el" href="group__group__dfu__enums.html#ggafcff247e9cb8dc6c1282873b0d2dae1ba5ec17ddd14f6e0a3ac1ad893d3cef065">CY_DFU_ERROR_VERIFY</a> If the application is invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga6e8ba375e3199d481b534deaca54f514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e8ba375e3199d481b534deaca54f514">&#9670;&nbsp;</a></span>Cy_DFU_GetRunningApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t Cy_DFU_GetRunningApp </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reports the application number of the currently running application. </p>
<dl class="section return"><dt>Returns</dt><dd>application number </dd></dl>

</div>
</div>
<a id="ga17d8b5157dc842d05115cf41fef4221d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga17d8b5157dc842d05115cf41fef4221d">&#9670;&nbsp;</a></span>Cy_DFU_GetAppMetadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_GetAppMetadata </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>verifyAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>verifySize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads application metadata to <code>verifyAddress</code> and <code>verifySize</code>. </p>
<p>The metadata is supposed to be located in internal flash.</p>
<p>This is a weak function and the user may override it in the user's code by providing a function with the same name. This allows the user to place metadata in any NVM.</p>
<dl class="section note"><dt>Note</dt><dd>It is assumed appId is a valid application number.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>The application number. </td></tr>
    <tr><td class="paramname">verifyAddress</td><td>The pointer to a variable where an application verified area start address is stored. </td></tr>
    <tr><td class="paramname">verifySize</td><td>The pointer to a variable where a size of verified application area is stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </dd></dl>

</div>
</div>
<a id="gabcdc75d72e323577e207eca9a105f7dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gabcdc75d72e323577e207eca9a105f7dd">&#9670;&nbsp;</a></span>Cy_DFU_SetAppMetadata()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_SetAppMetadata </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>appId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>verifyAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>verifySize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This is a helper function for <a class="el" href="group__group__dfu__functions.html#ga6514a9d999be746edc406fcf764d07f5" title="The function processes Host Commands according to Host Command/Response Protocol. ...">Cy_DFU_Continue()</a>. </p>
<p>This function sets application metadata and updates a metadata checksum. </p><dl class="section note"><dt>Note</dt><dd>If the application metadata is the same as already present in the NVM, then the NVM is not rewritten and this function only exits. </dd>
<dd>
This function uses params-&gt;dataBuffer for the read and write NVM.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">appId</td><td>The application number to update metadata for. </td></tr>
    <tr><td class="paramname">verifyAddress</td><td>An application verified area start address </td></tr>
    <tr><td class="paramname">verifySize</td><td>The size of verified application area </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> </dd></dl>

</div>
</div>
<a id="ga4e2ab4649104775358b885daada90b11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4e2ab4649104775358b885daada90b11">&#9670;&nbsp;</a></span>Cy_DFU_CopyApp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_CopyApp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>srcAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>rowSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function copies an application from a temporary location in flash to its destination location in flash. </p>
<p>This function is typically called when updating an application used as part of an update process, for example updating a BLE stack. </p><dl class="section note"><dt>Note</dt><dd>This API is only for demonstration purpose, use it only when copying from internal flash to internal flash. For other user cases, implement a custom, more general function.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destAddress</td><td>The start address of the application to copy to. </td></tr>
    <tr><td class="paramname">srcAddress</td><td>The start address of the copy of the application to be copied. </td></tr>
    <tr><td class="paramname">length</td><td>The number of bytes to copy. </td></tr>
    <tr><td class="paramname">rowSize</td><td>The size of a flash row in bytes. </td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> .</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </dd></dl>

</div>
</div>
<a id="ga6e0defdaf9adb2e5663dc6144dc6823a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6e0defdaf9adb2e5663dc6144dc6823a">&#9670;&nbsp;</a></span>Cy_DFU_OnResetApp0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_OnResetApp0 </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function is used in an App0 firmware image in Reset_Handler() only. </p>
<p>Checks if switching to the other application is scheduled with <a class="el" href="group__group__dfu__functions.html#ga462d2b960d0a1420bd365cbb12173266">Cy_DFU_ExecuteApp()</a>. <br />
If the switch is scheduled, then it validates the application and transfers control to it. </p>

</div>
</div>
<a id="ga9709777e59f6cbdc9ca70c1ca041e414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9709777e59f6cbdc9ca70c1ca041e414">&#9670;&nbsp;</a></span>Cy_DFU_ReadData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_ReadData </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p>Reads <code>buffer</code> from flash, QSPI flash, or any other external memory type with custom pre and post read commands.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address from where to read data, must be aligned to a flash row, QSPI flash page, etc. </td></tr>
    <tr><td class="paramname">length</td><td>The length in bytes of data to read, must be multiple of a flash row, QSPI flash page, etc. </td></tr>
    <tr><td class="paramname">ctl</td><td>Additional features of the read function:<ul>
<li>CY_DFU_IOCTL_READ - Only read.</li>
<li>CY_DFU_IOCTL_COMPARE - Compare the data in the buffer with the data in memory.</li>
<li>CY_DFU_IOCTL_BHP - Decrypt data before comparing the buffer with memory, if the DFU Host provided encrypted data. </li>
</ul>
</td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> . </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a><ul>
<li>CY_DFU_SUCCESS - If successful.</li>
<li>CY_DFU_ERROR_LENGTH if <code>The</code> length value is invalid.</li>
<li>CY_DFU_ERROR_ADDRESS if <code>The</code> address is invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga9f589c0df780bd29477ab4d73cf4063b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9f589c0df780bd29477ab4d73cf4063b">&#9670;&nbsp;</a></span>Cy_DFU_WriteData()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_WriteData </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ctl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> *&#160;</td>
          <td class="paramname"><em>params</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p>Writes the <code>buffer</code> to flash, QSPI flash, or any other external memory type with custom pre and post write commands.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The address to write data to, must be aligned to a flash row, QSPI flash page, etc. </td></tr>
    <tr><td class="paramname">length</td><td>The length in bytes of data to be written, must be multiple of a flash row, QSPI flash page, etc. </td></tr>
    <tr><td class="paramname">ctl</td><td>Additional features of the write function:<ul>
<li>CY_DFU_IOCTL_WRITE - Only write.</li>
<li>CY_DFU_IOCTL_ERASE - Erase the sector, the sector size can be bigger than the size of the page to write.</li>
<li>CY_DFU_IOCTL_BHP - Decrypt data before writing to memory, if the DFU Host provided encrypted data. </li>
</ul>
</td></tr>
    <tr><td class="paramname">params</td><td>The pointer to a DFU parameters structure. See <a class="el" href="structcy__stc__dfu__params__t.html">cy_stc_dfu_params_t</a> . </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>.<ul>
<li>CY_DFU_SUCCESS - If successful.</li>
<li>CY_DFU_ERROR_LENGTH if <code>The</code> length value is invalid.</li>
<li>CY_DFU_ERROR_ADDRESS if <code>The</code> address is invalid. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga90b9eb04aca4959c02e313aca13414ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga90b9eb04aca4959c02e313aca13414ca">&#9670;&nbsp;</a></span>Cy_DFU_TransportRead()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_TransportRead </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>buffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p>This function receives a command packet from the DFU Host via the communication channel. The function waits for a timeout until all bytes are received.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The pointer to a buffer to store a received command. </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to read. </td></tr>
    <tr><td class="paramname">count</td><td>The pointer to the variable that contains the number of received bytes. </td></tr>
    <tr><td class="paramname">timeout</td><td>The time to wait before the function returns because of a timeout, in milliseconds.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The status of the transmit operation:<ul>
<li>CY_DFU_SUCCESS - If successful.</li>
<li>CY_DFU_ERROR_TIMEOUT - If no data is received.</li>
<li>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="ga47b4a59a539863b1581d4ddcce701b9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga47b4a59a539863b1581d4ddcce701b9e">&#9670;&nbsp;</a></span>Cy_DFU_TransportWrite()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a> Cy_DFU_TransportWrite </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>buffer</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p>This function transmits a response packet to the DFU host via the communication channel. The function waits for a timeout until all bytes are sent.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>The pointer response packet buffer. </td></tr>
    <tr><td class="paramname">size</td><td>The number of bytes to transmit. </td></tr>
    <tr><td class="paramname">count</td><td>The pointer to the actual number of transmitted bytes. </td></tr>
    <tr><td class="paramname">timeout</td><td>The time to wait before the function returns because of a timeout, in milliseconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>See <a class="el" href="group__group__dfu__enums.html#gafcff247e9cb8dc6c1282873b0d2dae1b">cy_en_dfu_status_t</a>. The status of the transmit operation:<ul>
<li>CY_DFU_SUCCESS - If successful.</li>
<li>CY_DFU_ERROR_TIMEOUT - If no data is transmitted. </li>
</ul>
</dd></dl>

</div>
</div>
<a id="gaf440cbe4ded2f8090c51fe7c23a00e8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf440cbe4ded2f8090c51fe7c23a00e8c">&#9670;&nbsp;</a></span>Cy_DFU_TransportReset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_TransportReset </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p><br />
Resets the communication interface with clearing buffers, offsets, length, etc. </p>

</div>
</div>
<a id="ga0e7830c2493ba3b3798412ddbd826ff8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0e7830c2493ba3b3798412ddbd826ff8">&#9670;&nbsp;</a></span>Cy_DFU_TransportStart()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_TransportStart </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p><br />
Starts the communication interface through which updating will be working. </p>

</div>
</div>
<a id="gaa979bcdabc0bb7dc392be24a25986ca9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa979bcdabc0bb7dc392be24a25986ca9">&#9670;&nbsp;</a></span>Cy_DFU_TransportStop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Cy_DFU_TransportStop </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function must be implemented in the user's code. </p>
<p><br />
Stops the communication interface through which updating will be working. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part
<div id="nav-path" class="navpath">
    <ul>
        <li class="footer">
            Generated for <b>Cypress Device Firmware Update (DFU) Middleware Library 4.10</b> by <b>Cypress Semiconductor Corporation</b>.
            All rights reserved.
        </li>
    </ul>
</div>
-->
</body>
</html>
